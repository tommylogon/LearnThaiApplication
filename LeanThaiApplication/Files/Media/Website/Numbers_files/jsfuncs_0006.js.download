
function $$(s){return document.getElementById(s);}
String.prototype.endsWith=function(t,i){return t==this.substring(this.length-t.length);}
function newAjax(){return window.ActiveXObject&&new ActiveXObject("Microsoft.XMLHTTP")||window.XMLHttpRequest&&new XMLHttpRequest();}
function getCaretPosition(ctrl){var iCaretPos=0;if(document.selection){ctrl.focus();var oSel=document.selection.createRange();oSel.moveStart('character',-ctrl.value.length);iCaretPos=oSel.text.length;}
else if(ctrl.selectionStart||ctrl.selectionStart=='0')
iCaretPos=ctrl.selectionStart;return iCaretPos;}
function setCaretPosition(ctrl,pos){if(ctrl.setSelectionRange){ctrl.focus();ctrl.setSelectionRange(pos,pos);}
else if(ctrl.createTextRange){var range=ctrl.createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select();}}
function insertString(ctrl,s){var i=getCaretPosition(ctrl);var v=ctrl.value;ctrl.value=v.slice(0,i)+s+v.slice(i);setCaretPosition(ctrl,i+1);}
function uhx(o,txt){o.parentNode.innerHTML=txt;}
function hasAsAncestor(cur,anc){while(cur){if(cur==anc)return true;cur=cur.parentNode;}
return false;}
function xmlencode(string){return string.replace(/\&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\'/g,'&apos;').replace(/\"/g,'&quot;');}
function DialogHideXlit(arg){var f_show=(arg.slice(0,1)=='S');$('.dx').each(function(){this.style.display=f_show?'inline':'none';});$($$('DialogShowHideBtn')).val(f_show?"Hide Transcription":"Show Transcription");}
function PlayAudioFile(s){var y,t=s.toLowerCase().endsWith("wma")?"audio/x-ms-wma":"audio/mpeg";if($.browser.msie)y='display:none;';else if($.browser.safari)y='position:fixed; width:1px; height:1px;';else y='position:fixed; width:0px; height:0px;';$$('emb_audio').innerHTML='<object data="'+s+'" type="'+t+'" style="'+y+'"><param name="hidden" value="true" /><param name="controller" value="false" /><param name="type" value="'+t+'" /><param name="src" value="'+s+'" /><param name="autoplay" value="true" /><param name="autostart" value="1" /></object>';return false;}
function startclock(st){var delta=(new Date()).getTime()-st;(function(){var ts=new Date((new Date()).getTime()-delta);var nhours=ts.getUTCHours();var nmins=ts.getUTCMinutes();var nsecn=ts.getUTCSeconds();var ampm=(nhours>=12)?"pm":"am";if(nhours>=13)nhours-=12;if(nhours==0)nhours=12;if(nsecn<10)nsecn="0"+nsecn;if(nmins<10)nmins="0"+nmins;$$('bkk_clock').innerHTML=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][ts.getUTCDay()]+"<br />"+["January","February","March","April","May","June","July","August","September","October","November","December"][ts.getUTCMonth()]+" "+ts.getUTCDate()+", "+ts.getUTCFullYear()+"<br />"+nhours+":"+nmins+":"+nsecn+" "+ampm;setTimeout(arguments.callee,1000);})();}
function rotatebannerimg(m){var bu="http://img1.thai-language.net/hdr_img/";var incr,intv,tick,cv;var i_pic=Math.floor(Math.random()*40);var ie=$$("bannerimg");var qm=$(ie);if(m>0){incr=[.20,.10,.05][m-1];intv=incr*1000;tick=0;cv=0;}
function fnstring(i){var sn="";if(i<100)sn+="0";if(i<10)sn+="0";return sn+i+".jpg";}
function rotate0(){qm.attr("src",bu+fnstring(i_pic));i_pic++;if(i_pic==40)i_pic=0;var im=new Image();im.onload=function(){setTimeout(rotate0,19000);};im.src=bu+fnstring(i_pic);}
function rotaten(){if(tick==0){qm.attr('src',bu+fnstring(i_pic));cv=0.0;qm.css('opacity',cv);ie.style.opacity=cv;tick++;i_pic++;if(i_pic==40)
i_pic=0;}
else{cv+=incr;qm.css('opacity',cv);ie.style.opacity=cv;if(cv>=1){tick=0;var im=new Image();im.onload=function(){cv=1;setTimeout(function(){if(cv>0){cv-=incr;qm.css('opacity',cv);im.style.opacity=cv;setTimeout(arguments.callee,intv);return;}
rotaten();},19000);};im.src=bu+fnstring(i_pic);return;}
else
tick++;}
setTimeout(rotaten,intv);}
m>0?rotaten():rotate0();}